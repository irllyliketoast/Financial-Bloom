<!-- By Laura Estremera -->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Financial Bloom - Budget Dashboard</title>

  <!-- External CSS -->
  <link rel="stylesheet" href="../Styles/Budget.css">

<!-- Preconnecting to Google Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

<!-- Font families used -->
<link href="https://fonts.googleapis.com/css2?family=Silkscreen&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Play:wght@400;700&display=swap" rel="stylesheet">

  <!-- Material Icons -->
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />
</head>

<body class="nav-visible">

  <!-- Header -->
  <header class="header">
    <img src="../Graphics/logo.png" alt="Financial Bloom logo">
    Financial Bloom
  </header>

  <!-- Sidebar -->
  <nav>
    <ul>
      <li><a href="Dashboard.html"><span class="material-symbols-outlined">home</span> Dashboard</a></li>
      <li id="current"><a href="BudgetIndex.html"><span class="material-symbols-outlined">wallet</span> Budget</a></li>
      <li><a href="GardenPath.html"><span class="material-symbols-outlined">flyover</span> Garden Path</a></li>
      <li><a href="Settings.html"><span class="material-symbols-outlined">settings</span> Settings</a></li>
      <li><a href="Login.html"><span class="material-symbols-outlined">door_back</span> Exit</a></li>
    </ul>
  </nav>

  <main>
    <!-- Unity Embed -->
    <section class="unity-container">
      <iframe src="https://cmlane48.itch.io/financial-bloom" frameborder="0" width="960" height="600" style="border-radius: 8px; box-shadow: 0 0 10px rgba(0,0,0,0.2);"></iframe>
    </section>

    <!-- Tables Section -->
    <section class="tables-section">

      <!-- Income/Debt Tracker -->
      <div class="table-container">
        <h2>Income, Debt, Expenses Tracker</h2>
        <button onclick="addIncomeDebtRow()">➕ Add Row</button>
        <table id="income-debt-table">
          <thead>
            <tr>
              <th>Type</th>
              <th>Name</th>
              <th>Amount ($)</th>
              <th>Delete</th>
            </tr>
          </thead>
          <tbody>
            <!-- Starter rows will be injected by JavaScript -->
          </tbody>
        </table>
      </div>

      <!-- Milestone Tracker -->
      <div class="table-container">
        <h2>Milestones Tracker</h2>
        <button onclick="addMilestoneRow()">➕ Add Row</button>
        <table id="milestone-table">
          <thead>
            <tr>
              <th>Milestone Name</th>
              <th>Amount Saved ($)</th>
              <th>Goal Amount ($)</th>
              <th>Delete</th>
            </tr>
          </thead>
          <tbody>
            <!-- Starter rows will be injected by JavaScript -->
          </tbody>
        </table>
      </div>

    </section>

  </main>

  <!-- Footer -->
  <footer>
    Financial Bloom ™ 2025
  </footer>

  <!-- Alert box placeholder for edits -->
  <div id="customAlertOverlay" class="alert-overlay" style="display: none;">
    <div id="customAlert" class="alert-box">
      <p id="alertMessage"></p>
      <button onclick="confirmSave()">OK</button>
      <button onclick="cancelSave()">Cancel</button>
    </div>
  </div>

  <!-- JavaScript -->
  <script>
	// Maximum number of rows
	const maxRows = 30;

	// Initial row creation on load
	document.addEventListener('DOMContentLoaded', () => {
	  addIncomeDebtRow();
	  addIncomeDebtRow();
	  addMilestoneRow();
	  addMilestoneRow();
	});

	// Functions for Income/Debt Table
	function addIncomeDebtRow() {
	  const table = document.getElementById('income-debt-table').getElementsByTagName('tbody')[0];
	  if (table.rows.length >= maxRows) {
		alert("You can only add up to 30 rows.");
		return;
	  }

	  const row = table.insertRow();

	  const typeCell = row.insertCell(0);
	  const nameCell = row.insertCell(1);
	  const amountCell = row.insertCell(2);
	  const deleteCell = row.insertCell(3);

	  // Dropdown for Type
	  const typeSelect = document.createElement('select');
	  ['Income', 'Debt', 'Savings', 'Expense'].forEach(optionText => {
		const option = document.createElement('option');
		option.value = optionText;
		option.innerText = optionText;
		typeSelect.appendChild(option);
	  });
	  typeCell.appendChild(typeSelect);

	  // Name Input
	  const nameInput = document.createElement('input');
	  nameInput.type = "text";
	  nameInput.placeholder = "Enter name...";
	  nameInput.oninput = sanitizeInputLive;
	  nameCell.appendChild(nameInput);

	  // Amount Input
	  const amountInput = document.createElement('input');
	  amountInput.type = "number";
	  amountInput.placeholder = "$0";
	  amountInput.oninput = sanitizeInputLive;
	  amountCell.appendChild(amountInput);

	  // Delete Button
	  const deleteBtn = document.createElement('button');
	  deleteBtn.innerText = "🗑️";
	  deleteBtn.onclick = () => row.remove();
	  deleteCell.appendChild(deleteBtn);
	}

	// Functions for Milestone Table
	function addMilestoneRow() {
	  const table = document.getElementById('milestone-table').getElementsByTagName('tbody')[0];
	  if (table.rows.length >= maxRows) {
		alert("You can only add up to 30 rows.");
		return;
	  }

	  const row = table.insertRow();

	  const milestoneNameCell = row.insertCell(0);
	  const amountSavedCell = row.insertCell(1);
	  const goalAmountCell = row.
  </script>

</body>
</html>
